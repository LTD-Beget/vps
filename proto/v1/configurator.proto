syntax = "proto3";

package beget.vps.v1.configurator;

import "google/api/annotations.proto";
import "vps/proto/v1/structures.proto";

// Todo description
//
service ConfiguratorService {
  rpc configurator(ConfiguratorRequest) returns (ConfiguratorResponse) {
    option (google.api.http) = {
      post: "/v1/vps/configurator"
    };
  }
}

message ConfiguratorRequest {
  structures.ConfigurationParams params = 1;
}

message ConfiguratorResponse {
  ConfiguratorSettings settings = 1;
  structures.ConfigurationParams available_params = 2;
  double price_day = 3;
  double price_month = 4;
}

message ConfiguratorSettings {
  CpuSettings cpu_settings = 1;
  DiskSettings disk_settings = 2;
  MemorySettings memory_settings = 3;
}

message CpuSettings {
  uint32 min_cpu_count = 1;
  uint32 max_cpu_count = 2;
}

message DiskSettings {
  uint32 min_disk_size = 1;
  uint32 max_disk_size = 2;
}

message MemorySettings {
  uint32 min_memory = 1;
  uint32 max_memory = 2;
}